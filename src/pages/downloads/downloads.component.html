<div class="container mx-auto px-6 py-16">
  <div class="max-w-4xl mx-auto text-center animate-on-scroll" appObserveElement>
    <h1 class="text-4xl md:text-5xl font-bold text-slate-900 dark:text-white mb-3">{{ languageService.t('download_center')() }}</h1>
    <p class="text-lg text-gray-600 dark:text-gray-400">{{ languageService.t('download_center_subtitle')() }}</p>
  </div>

  <div class="max-w-4xl mx-auto mt-12 animate-on-scroll" appObserveElement style="transition-delay: 200ms;">
    <!-- Tabs -->
    <div class="flex justify-center mb-8">
      <div class="p-1.5 bg-gray-200/60 dark:bg-gray-800/50 rounded-lg flex space-x-2">
        <button (click)="selectTab('desktop')" [class]="activeTab() === 'desktop' ? 'bg-white dark:bg-gray-700 text-slate-800 dark:text-white shadow-sm' : 'text-gray-500 dark:text-gray-400 hover:bg-gray-300/50 dark:hover:bg-gray-700/50 hover:text-slate-700 dark:hover:text-white'" class="px-6 py-2 rounded-md font-medium transition-colors duration-200 inline-flex items-center gap-2">
          <svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" d="M9 17.25v1.007a3 3 0 01-.879 2.122L7.5 21h9l-.621-.621A3 3 0 0115 18.257V17.25m6-12V15a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 15V5.25m18 0A2.25 2.25 0 0018.75 3H5.25A2.25 2.25 0 003 5.25m18 0V12a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 12V5.25" />
          </svg>
          {{ languageService.t('desktop_apps')() }}
        </button>
        <button (click)="selectTab('mobile')" [class]="activeTab() === 'mobile' ? 'bg-white dark:bg-gray-700 text-slate-800 dark:text-white shadow-sm' : 'text-gray-500 dark:text-gray-400 hover:bg-gray-300/50 dark:hover:bg-gray-700/50 hover:text-slate-700 dark:hover:text-white'" class="px-6 py-2 rounded-md font-medium transition-colors duration-200 inline-flex items-center gap-2">
          <svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" d="M10.5 1.5H8.25A2.25 2.25 0 006 3.75v16.5a2.25 2.25 0 002.25 2.25h7.5A2.25 2.25 0 0018 20.25V3.75a2.25 2.25 0 00-2.25-2.25H13.5m-3 0V3h3V1.5m-3 0h3m-3 18.75h3" />
          </svg>
          {{ languageService.t('mobile_apps')() }}
        </button>
      </div>
    </div>
    
    <!-- Content -->
    <div class="bg-white/60 dark:bg-gray-900/50 border border-gray-200/50 dark:border-gray-800 rounded-2xl p-4 sm:p-8 flex flex-col md:flex-row gap-8 min-h-[420px] overflow-hidden">
      <!-- OS Selection List -->
      <div class="w-full md:w-1/3 space-y-3">
        @for(app of appsToShow(); track app.id) {
          <div (click)="selectOs(app.id)" [class]="selectedOsId() === app.id ? 'border-cyan-400 bg-cyan-500/10 text-slate-900 dark:text-white shadow-md shadow-cyan-500/10' : 'border-gray-300/50 dark:border-gray-700/50 text-gray-500 dark:text-gray-400 hover:border-cyan-500/50 hover:bg-gray-200/50 dark:hover:bg-gray-800/40'" class="relative group flex items-center space-x-4 p-4 rounded-lg cursor-pointer border transition-all duration-200 transform hover:-translate-y-1">
            @if(selectedOsId() === app.id) {
              <div class="absolute -inset-px rounded-lg border-2 border-cyan-400 opacity-70 animate-pulse"></div>
            }
            <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 relative text-cyan-600 dark:text-cyan-400" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
              @switch (app.id) {
                @case ('windows') {
                  <path stroke-linecap="round" stroke-linejoin="round" d="M4 4h16v16H4V4z" />
                  <path stroke-linecap="round" stroke-linejoin="round" d="M4 12h16M12 4v16" />
                }
                @case ('macos') {
                  <path stroke-linecap="round" stroke-linejoin="round" d="M9 7c-3 0-4 3-4 5.5 0 3 2 7.5 4 7.5 1.088-.046 1.679-.5 3-.5 1.312 0 1.5.5 3 .5s4-3 4-5c-.028-.01-2.472-.403-2.5-3-.019-2.17 2.416-2.954 2.5-3-1.023-1.492-2.951-1.963-3.5-2-1.433-.111-2.83 1-3.5 1-.68 0-1.9-1-3-1z" />
                  <path stroke-linecap="round" stroke-linejoin="round" d="M12 4a2 2 0 0 0 2 -2a2 2 0 0 0 -2 2" />
                }
                @case ('android') {
                  <path stroke-linecap="round" stroke-linejoin="round" d="M4 10l0 6" />
                  <path stroke-linecap="round" stroke-linejoin="round" d="M20 10l0 6" />
                  <path stroke-linecap="round" stroke-linejoin="round" d="M7 9h10v8a1 1 0 0 1 -1 1h-8a1 1 0 0 1 -1 -1v-8a5 5 0 0 1 10 0" />
                  <path stroke-linecap="round" stroke-linejoin="round" d="M8 3l1 2" />
                  <path stroke-linecap="round" stroke-linejoin="round" d="M16 3l-1 2" />
                  <path stroke-linecap="round" stroke-linejoin="round" d="M9 18l0 3" />
                  <path stroke-linecap="round" stroke-linejoin="round" d="M15 18l0 3" />
                }
                @case ('ios') {
                  <path stroke-linecap="round" stroke-linejoin="round" d="M9 7c-3 0-4 3-4 5.5 0 3 2 7.5 4 7.5 1.088-.046 1.679-.5 3-.5 1.312 0 1.5.5 3 .5s4-3 4-5c-.028-.01-2.472-.403-2.5-3-.019-2.17 2.416-2.954 2.5-3-1.023-1.492-2.951-1.963-3.5-2-1.433-.111-2.83 1-3.5 1-.68 0-1.9-1-3-1z" />
                  <path stroke-linecap="round" stroke-linejoin="round" d="M12 4a2 2 0 0 0 2 -2a2 2 0 0 0 -2 2" />
                }
              }
            </svg>
            <div class="relative">
              <p class="font-semibold">{{ app.name }}</p>
              <p class="text-xs">{{ languageService.t(app.descriptionKey)() }}</p>
            </div>
          </div>
        }
      </div>

      <!-- Download Details -->
      <div class="w-full md:w-2/3 bg-gray-200/30 dark:bg-gray-800/30 rounded-lg p-8 flex flex-col justify-between animate-fade-in-details">
        <div>
            <div class="flex items-center space-x-4 mb-6">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12 text-slate-800 dark:text-white" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                @switch (selectedAppData().id) {
                  @case ('windows') {
                    <path stroke-linecap="round" stroke-linejoin="round" d="M4 4h16v16H4V4z" />
                    <path stroke-linecap="round" stroke-linejoin="round" d="M4 12h16M12 4v16" />
                  }
                  @case ('macos') {
                    <path stroke-linecap="round" stroke-linejoin="round" d="M9 7c-3 0-4 3-4 5.5 0 3 2 7.5 4 7.5 1.088-.046 1.679-.5 3-.5 1.312 0 1.5.5 3 .5s4-3 4-5c-.028-.01-2.472-.403-2.5-3-.019-2.17 2.416-2.954 2.5-3-1.023-1.492-2.951-1.963-3.5-2-1.433-.111-2.83 1-3.5 1-.68 0-1.9-1-3-1z" />
                    <path stroke-linecap="round" stroke-linejoin="round" d="M12 4a2 2 0 0 0 2 -2a2 2 0 0 0 -2 2" />
                  }
                  @case ('android') {
                    <path stroke-linecap="round" stroke-linejoin="round" d="M4 10l0 6" />
                    <path stroke-linecap="round" stroke-linejoin="round" d="M20 10l0 6" />
                    <path stroke-linecap="round" stroke-linejoin="round" d="M7 9h10v8a1 1 0 0 1 -1 1h-8a1 1 0 0 1 -1 -1v-8a5 5 0 0 1 10 0" />
                    <path stroke-linecap="round" stroke-linejoin="round" d="M8 3l1 2" />
                    <path stroke-linecap="round" stroke-linejoin="round" d="M16 3l-1 2" />
                    <path stroke-linecap="round" stroke-linejoin="round" d="M9 18l0 3" />
                    <path stroke-linecap="round" stroke-linejoin="round" d="M15 18l0 3" />
                  }
                  @case ('ios') {
                    <path stroke-linecap="round" stroke-linejoin="round" d="M9 7c-3 0-4 3-4 5.5 0 3 2 7.5 4 7.5 1.088-.046 1.679-.5 3-.5 1.312 0 1.5.5 3 .5s4-3 4-5c-.028-.01-2.472-.403-2.5-3-.019-2.17 2.416-2.954 2.5-3-1.023-1.492-2.951-1.963-3.5-2-1.433-.111-2.83 1-3.5 1-.68 0-1.9-1-3-1z" />
                    <path stroke-linecap="round" stroke-linejoin="round" d="M12 4a2 2 0 0 0 2 -2a2 2 0 0 0 -2 2" />
                  }
                }
              </svg>
              <div>
                <h2 class="text-2xl font-bold text-slate-900 dark:text-white">{{ selectedAppData().name }}</h2>
                <p class="text-gray-600 dark:text-gray-400">{{ languageService.t(selectedAppData().descriptionKey)() }}</p>
              </div>
            </div>
          
            <div class="space-y-3 text-sm">
              <div class="flex justify-between">
                <span class="text-gray-500 dark:text-gray-400 inline-flex items-center gap-2">
                  <svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M9.568 3H5.25A2.25 2.25 0 003 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 005.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 009.568 3z" />
                    <path stroke-linecap="round" stroke-linejoin="round" d="M6 6h.008v.008H6V6z" />
                  </svg>
                  {{ languageService.t('version')() }}
                </span>
                <span class="font-mono text-gray-700 dark:text-gray-200">{{ selectedAppData().version }}</span>
              </div>
              <div class="flex justify-between">
                <span class="text-gray-500 dark:text-gray-400 inline-flex items-center gap-2">
                  <svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75m-18 0v-7.5A2.25 2.25 0 015.25 9h13.5A2.25 2.25 0 0121 11.25v7.5" />
                  </svg>
                  {{ languageService.t('released_on')() }}
                </span>
                <span class="font-mono text-gray-700 dark:text-gray-200">{{ selectedAppData().releaseDate }}</span>
              </div>
            </div>
        </div>

        <button class="w-full mt-8 py-3 bg-cyan-500 text-white font-semibold rounded-lg shadow-lg shadow-cyan-500/20 hover:bg-cyan-400 hover:shadow-xl hover:shadow-cyan-400/30 transform hover:-translate-y-0.5 transition-all duration-300 inline-flex items-center justify-center gap-2">
          <svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" d="M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3" />
          </svg>
          {{ languageService.t('download_button')() }}
        </button>
      </div>
    </div>
  </div>
</div>
